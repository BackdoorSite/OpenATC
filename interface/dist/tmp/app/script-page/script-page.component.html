<a id="script-link" class="col-xs-12 col-sm-3 center-block" [href]="script.url" target="_blank">
    <img [src]="script.img">
    <br>
    {{script.url}}
</a>
<div class="container">
    <div id="view-tabs">
        <span *ngFor="let tab of tabs" class="noselect" [class.active]="viewIs(tab.name)" (click)="setView(tab.name)"><i class="fa fa-{{tab.icon}}" aria-hidden="true"></i> {{tab.text}}</span>
        <span class="noselect" *ngIf="scriptService.inCart(script.id)" [class.active]="viewIs('run')" (click)="setView('run')"><i class="fa fa-play" aria-hidden="true"></i> Run script</span>
    </div>
    <div *ngIf="viewIs('add')" class="view">
        <form method="POST" action="javascript:myFunction(); return false;" (submit)="addItem()">
            <div *ngFor="let input of script.item; let i = index">
                <div *ngIf="input.type === 'select'">
                    <label [attr.for]="'item' + i">{{input.label}}</label>
                    <select id="item{{i}}" name="item{{i}}" [(ngModel)]="item[i]" required>
                        <option *ngFor="let value of input.values" [value]="value">{{value}}</option>
                    </select>
                </div>
                <div *ngIf="input.type === 'text'">
                    <label [attr.for]="'item' + i">{{input.label}}</label>
                    <input id="item{{i}}" name="item{{i}}" [(ngModel)]="item[i]" [type]="input.type" [placeholder]="input.placeholder" required>
                </div>
                <div *ngIf="input.type === 'time'">
                    <label [attr.for]="'item' + i">{{input.label}}</label>
                    <input id="item{{i}}" name="item{{i}}" [(ngModel)]="item[i]" [type]="input.type" step="1" required>
                </div>
                <div *ngIf="input.type === 'number'">
                    <label [attr.for]="'item' + i">{{input.label}}</label>
                    <input id="item{{i}}" name="item{{i}}" [(ngModel)]="item[i]" [type]="input.type" [placeholder]="input.placeholder" required>
                </div>
            </div>
            <button class="btn btn-default btn-sleek margin-top-default"><i class="fa fa-plus" aria-hidden="true"></i> Add</button>
        </form>
    </div>
    <div *ngIf="viewIs('settings')" class="view">
        <div *ngFor="let input of script.inputs; let i = index">
            <div *ngIf="input.type === 'select'">
            </div>
            <div *ngIf="input.type === 'time'">
                <label [attr.for]="'setting' + i">{{input.label}}</label>
                <input id="setting{{i}}" [type]="input.type" step="1">
            </div>
            <div *ngIf="input.type === 'number'">
                <label [attr.for]="'setting' + i">{{input.label}}</label>
                <input id="setting{{i}}" [type]="input.type" [placeholder]="input.placeholder">
            </div>
        </div>
    </div>
    <div *ngIf="viewIs('run')" class="view run-script">
        <p>Press the button below to start/stop the script. Script output will appear below the button.</p>
        <button *ngIf="!scriptRunning" class="btn btn-success btn-script" (click)="startScript()">RUN SCRIPT</button>
        <button *ngIf="scriptRunning" class="btn btn-danger btn-script" (click)="stopScript()">STOP SCRIPT</button>
    </div>
</div>
<div id="cart">
</div>